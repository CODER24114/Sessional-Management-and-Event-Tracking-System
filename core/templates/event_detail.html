<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Event Detail | Sessional Management</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    .container-box {
      background: rgba(255,255,255,0.97);
      border-radius: 24px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      padding: 40px 35px;
      margin: 30px auto;
      max-width: 900px;
    }
    h2 {
      color: #667eea;
      font-weight: 700;
    }
  </style>
</head>
<body>
  <div class="container-box">
    <h2><i class="bi bi-calendar-event"></i> Event Details</h2>
    <hr>
    <p><strong>Title:</strong> {{ event.title }}</p>
    <p><strong>Type:</strong> {{ event.event_type }}</p>
    <p><strong>Date:</strong> {{ event.date }}</p>
    <p><strong>Time:</strong> {{ event.time|default:"N/A" }}</p>
    <p><strong>Venue:</strong> {{ event.venue }}</p>
    <p><strong>Description:</strong> {{ event.description }}</p>
    <p><strong>Max Marks:</strong> {{ event.max_marks }}</p>
    <p><strong>Created By:</strong> {{ event.created_by.username }}</p>
    
    <h4 class="mt-4">Student Marks</h4>
    <table class="table table-bordered">
      <thead>
        <tr><th>Student</th><th>Marks</th><th>Remarks</th></tr>
      </thead>
      <tbody>
        {% for mark in marks %}
          <tr>
            <td>{{ mark.student.username }}</td>
            <td>{{ mark.marks_obtained }}/{{ event.max_marks }}</td>
            <td>{{ mark.remarks }}</td>
          </tr>
        {% empty %}
          <tr><td colspan="3" class="text-center">No marks entered yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
    
    <a href="{% url 'event_list' %}" class="btn btn-secondary mt-3">Back to Events</a>
  </div>
</body>
</html>
